_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[17],{"20a2":function(e,t,n){e.exports=n("nOHt")},GXZs:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"f",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return b}));var r=n("o0o1"),a=n.n(r),c=n("HaE+"),s=n("AkIE");function u(e,t){return s.b.collection("users").doc(e).set(t)}function o(e,t){return s.b.collection("users").doc(e).update(t)}function i(e){return s.b.collection("users").doc(e).get()}function l(e,t){return s.b.doc(e).onSnapshot(t)}function d(){return s.b.collection("commands").doc("commandCenter").update({state:"started"})}function b(){return j.apply(this,arguments)}function j(){return(j=Object(c.a)(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.b.collection("history").doc((new Date).getFullYear().toString()).delete();case 2:return e.next=4,s.b.collection("commands").doc("commandCenter").update({state:"not started"});case 4:return e.next=6,s.b.collection("users").get();case 6:return t=e.sent,n=[],t.docs.forEach((function(e){n.push(e.ref.update({person:"",personDesire:"",personDislike:""}))})),e.next=11,Promise.all(n);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},Nwme:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/signup",function(){return n("smJ5")}])},smJ5:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return x}));var r=n("o0o1"),a=n.n(r),c=n("HaE+"),s=n("nKUr"),u=n("q1tI"),o=n("6xyR"),i=n("TUci"),l=n("QojX"),d=n("cWnB"),b=n("YFqc"),j=n.n(b),p=n("gXZv"),f=n("GXZs"),h=n("20a2");function x(){var e=Object(u.useRef)(null),t=Object(u.useRef)(null),n=Object(u.useRef)(null),r=Object(u.useRef)(null),b=Object(u.useRef)(null),x=Object(u.useRef)(null),O=Object(u.useState)(""),v=O[0],m=O[1],w=Object(u.useState)(!1),y=w[0],g=w[1],k=Object(h.useRouter)();function N(){return(N=Object(c.a)(a.a.mark((function c(s){var u,o,i,l,d,j,h,O,v,w;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(s.preventDefault(),(null===(u=n.current)||void 0===u?void 0:u.value)===(null===(o=r.current)||void 0===o?void 0:o.value)){a.next=3;break}return a.abrupt("return",m("Passwords do not match"));case 3:return a.prev=3,m(""),g(!0),a.next=8,Object(p.e)(null===(i=t.current)||void 0===i?void 0:i.value,null===(l=n.current)||void 0===l?void 0:l.value);case 8:if((v=a.sent).user){a.next=12;break}return m("Failed to create an account"),a.abrupt("return");case 12:return w={email:null===(d=t.current)||void 0===d?void 0:d.value,name:null===(j=e.current)||void 0===j?void 0:j.value,desire:null===(h=b.current)||void 0===h?void 0:h.value,dislike:null===(O=x.current)||void 0===O?void 0:O.value,userType:"user",personDesire:"",personDislike:"",person:""},a.next=15,Object(f.b)(v.user.uid,w);case 15:k.push("/"),a.next=21;break;case 18:a.prev=18,a.t0=a.catch(3),"auth/email-already-in-use"===a.t0.code?m("A user with this email already exists"):"auth/invalid-email"===a.t0.code?m("Invalid email"):"auth/weak-password"===a.t0.code?m("Password must be at least 6 characters"):"auth/user-not-found"===a.t0.code?m("No user with this email"):m("Failed to create account");case 21:g(!1);case 22:case"end":return a.stop()}}),c,null,[[3,18]])})))).apply(this,arguments)}return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(o.a,{children:Object(s.jsxs)(o.a.Body,{children:[Object(s.jsx)("h2",{className:"text-center mb-4",children:"Sign Up"}),v&&Object(s.jsx)(i.a,{variant:"danger",children:v}),Object(s.jsxs)(l.a,{onSubmit:function(e){return N.apply(this,arguments)},children:[Object(s.jsxs)(l.a.Group,{id:"name",children:[Object(s.jsx)(l.a.Label,{children:"Name"}),Object(s.jsx)(l.a.Control,{type:"text",ref:e,required:!0})]}),Object(s.jsxs)(l.a.Group,{id:"email",children:[Object(s.jsx)(l.a.Label,{children:"Email"}),Object(s.jsx)(l.a.Control,{type:"email",ref:t,required:!0})]}),Object(s.jsxs)(l.a.Group,{id:"password",children:[Object(s.jsx)(l.a.Label,{children:"Password"}),Object(s.jsx)(l.a.Control,{type:"password",ref:n,required:!0})]}),Object(s.jsxs)(l.a.Group,{id:"password-confirm",children:[Object(s.jsx)(l.a.Label,{children:"Password Confirmation"}),Object(s.jsx)(l.a.Control,{type:"password",ref:r,required:!0})]}),Object(s.jsxs)(l.a.Group,{id:"want",children:[Object(s.jsx)(l.a.Label,{children:"What you want"}),Object(s.jsx)(l.a.Control,{type:"text",ref:b,required:!0})]}),Object(s.jsxs)(l.a.Group,{id:"dontwant",children:[Object(s.jsx)(l.a.Label,{children:"What you don't Want"}),Object(s.jsx)(l.a.Control,{type:"text",ref:x,required:!0})]}),Object(s.jsx)(d.a,{disabled:y,className:"w-100",type:"submit",children:"Sign Up"})]})]})}),Object(s.jsxs)("div",{className:"w-100 text-center mt-2",children:["Already have an account? ",Object(s.jsx)(j.a,{href:"/login",children:"Log In"})]})]})}}},[["Nwme",1,2,3,5,9,0,4,6,8,7]]]);