{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[17],{\"20a2\":function(e,t,n){e.exports=n(\"nOHt\")},GXZs:function(e,t,n){\"use strict\";n.d(t,\"b\",(function(){return u})),n.d(t,\"f\",(function(){return o})),n.d(t,\"c\",(function(){return i})),n.d(t,\"a\",(function(){return l})),n.d(t,\"e\",(function(){return d})),n.d(t,\"d\",(function(){return b}));var r=n(\"o0o1\"),a=n.n(r),c=n(\"HaE+\"),s=n(\"AkIE\");function u(e,t){return s.b.collection(\"users\").doc(e).set(t)}function o(e,t){return s.b.collection(\"users\").doc(e).update(t)}function i(e){return s.b.collection(\"users\").doc(e).get()}function l(e,t){return s.b.doc(e).onSnapshot(t)}function d(){return s.b.collection(\"commands\").doc(\"commandCenter\").update({state:\"started\"})}function b(){return j.apply(this,arguments)}function j(){return(j=Object(c.a)(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.b.collection(\"history\").doc((new Date).getFullYear().toString()).delete();case 2:return e.next=4,s.b.collection(\"commands\").doc(\"commandCenter\").update({state:\"not started\"});case 4:return e.next=6,s.b.collection(\"users\").get();case 6:return t=e.sent,n=[],t.docs.forEach((function(e){n.push(e.ref.update({person:\"\",personDesire:\"\",personDislike:\"\"}))})),e.next=11,Promise.all(n);case 11:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}},Nwme:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/signup\",function(){return n(\"smJ5\")}])},smJ5:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"default\",(function(){return x}));var r=n(\"o0o1\"),a=n.n(r),c=n(\"HaE+\"),s=n(\"nKUr\"),u=n(\"q1tI\"),o=n(\"6xyR\"),i=n(\"TUci\"),l=n(\"QojX\"),d=n(\"cWnB\"),b=n(\"YFqc\"),j=n.n(b),p=n(\"gXZv\"),f=n(\"GXZs\"),h=n(\"20a2\");function x(){var e=Object(u.useRef)(null),t=Object(u.useRef)(null),n=Object(u.useRef)(null),r=Object(u.useRef)(null),b=Object(u.useRef)(null),x=Object(u.useRef)(null),O=Object(u.useState)(\"\"),v=O[0],m=O[1],w=Object(u.useState)(!1),y=w[0],g=w[1],k=Object(h.useRouter)();function N(){return(N=Object(c.a)(a.a.mark((function c(s){var u,o,i,l,d,j,h,O,v,w;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(s.preventDefault(),(null===(u=n.current)||void 0===u?void 0:u.value)===(null===(o=r.current)||void 0===o?void 0:o.value)){a.next=3;break}return a.abrupt(\"return\",m(\"Passwords do not match\"));case 3:return a.prev=3,m(\"\"),g(!0),a.next=8,Object(p.e)(null===(i=t.current)||void 0===i?void 0:i.value,null===(l=n.current)||void 0===l?void 0:l.value);case 8:if((v=a.sent).user){a.next=12;break}return m(\"Failed to create an account\"),a.abrupt(\"return\");case 12:return w={email:null===(d=t.current)||void 0===d?void 0:d.value,name:null===(j=e.current)||void 0===j?void 0:j.value,desire:null===(h=b.current)||void 0===h?void 0:h.value,dislike:null===(O=x.current)||void 0===O?void 0:O.value,userType:\"user\",personDesire:\"\",personDislike:\"\",person:\"\"},a.next=15,Object(f.b)(v.user.uid,w);case 15:k.push(\"/\"),a.next=21;break;case 18:a.prev=18,a.t0=a.catch(3),\"auth/email-already-in-use\"===a.t0.code?m(\"A user with this email already exists\"):\"auth/invalid-email\"===a.t0.code?m(\"Invalid email\"):\"auth/weak-password\"===a.t0.code?m(\"Password must be at least 6 characters\"):\"auth/user-not-found\"===a.t0.code?m(\"No user with this email\"):m(\"Failed to create account\");case 21:g(!1);case 22:case\"end\":return a.stop()}}),c,null,[[3,18]])})))).apply(this,arguments)}return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(o.a,{children:Object(s.jsxs)(o.a.Body,{children:[Object(s.jsx)(\"h2\",{className:\"text-center mb-4\",children:\"Sign Up\"}),v&&Object(s.jsx)(i.a,{variant:\"danger\",children:v}),Object(s.jsxs)(l.a,{onSubmit:function(e){return N.apply(this,arguments)},children:[Object(s.jsxs)(l.a.Group,{id:\"name\",children:[Object(s.jsx)(l.a.Label,{children:\"Name\"}),Object(s.jsx)(l.a.Control,{type:\"text\",ref:e,required:!0})]}),Object(s.jsxs)(l.a.Group,{id:\"email\",children:[Object(s.jsx)(l.a.Label,{children:\"Email\"}),Object(s.jsx)(l.a.Control,{type:\"email\",ref:t,required:!0})]}),Object(s.jsxs)(l.a.Group,{id:\"password\",children:[Object(s.jsx)(l.a.Label,{children:\"Password\"}),Object(s.jsx)(l.a.Control,{type:\"password\",ref:n,required:!0})]}),Object(s.jsxs)(l.a.Group,{id:\"password-confirm\",children:[Object(s.jsx)(l.a.Label,{children:\"Password Confirmation\"}),Object(s.jsx)(l.a.Control,{type:\"password\",ref:r,required:!0})]}),Object(s.jsxs)(l.a.Group,{id:\"want\",children:[Object(s.jsx)(l.a.Label,{children:\"What you want\"}),Object(s.jsx)(l.a.Control,{type:\"text\",ref:b,required:!0})]}),Object(s.jsxs)(l.a.Group,{id:\"dontwant\",children:[Object(s.jsx)(l.a.Label,{children:\"What you don't Want\"}),Object(s.jsx)(l.a.Control,{type:\"text\",ref:x,required:!0})]}),Object(s.jsx)(d.a,{disabled:y,className:\"w-100\",type:\"submit\",children:\"Sign Up\"})]})]})}),Object(s.jsxs)(\"div\",{className:\"w-100 text-center mt-2\",children:[\"Already have an account? \",Object(s.jsx)(j.a,{href:\"/login\",children:\"Log In\"})]})]})}}},[[\"Nwme\",1,2,3,5,9,0,4,6,8,7]]]);","map":{"version":3,"sources":["static/chunks/pages/signup-5ea4d2df76dab11b2754.js"],"names":["_N_E","window","push","20a2","module","exports","__webpack_require__","GXZs","__webpack_exports__","d","addUser","updateUserInfo","getUser","addListener","startDrawing","resetDrawing","_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__","_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","n","_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_firebase__WEBPACK_IMPORTED_MODULE_2__","id","info","collection","doc","set","update","get","path","onSnapshot","state","_resetDrawing","apply","this","arguments","Object","a","mark","_callee","users","promises","wrap","_context","prev","next","Date","getFullYear","toString","sent","docs","forEach","ref","person","personDesire","personDislike","Promise","all","stop","Nwme","__NEXT_P","smJ5","r","Signup","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__","react__WEBPACK_IMPORTED_MODULE_3__","react_bootstrap__WEBPACK_IMPORTED_MODULE_4__","react_bootstrap__WEBPACK_IMPORTED_MODULE_5__","react_bootstrap__WEBPACK_IMPORTED_MODULE_6__","react_bootstrap__WEBPACK_IMPORTED_MODULE_7__","next_link__WEBPACK_IMPORTED_MODULE_8__","next_link__WEBPACK_IMPORTED_MODULE_8___default","_scripts_auth__WEBPACK_IMPORTED_MODULE_9__","_scripts_db__WEBPACK_IMPORTED_MODULE_10__","next_router__WEBPACK_IMPORTED_MODULE_11__","nameRef","emailRef","passwordRef","passwordConfirmRef","desireRef","dislikeRef","_useState","error","setError","_useState2","loading","setLoading","router","_handleSubmit","e","_passwordRef$current","_passwordConfirmRef$c","_emailRef$current","_passwordRef$current2","_emailRef$current2","_nameRef$current","_desireRef$current","_dislikeRef$current","user","data","preventDefault","current","value","abrupt","email","name","desire","dislike","userType","uid","t0","code","children","Body","className","variant","onSubmit","_x","Group","Label","Control","type","required","disabled","href"],"mappings":"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"},"name":"static/chunks/pages/signup-5ea4d2df76dab11b2754.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[17],{\n\n/***/ \"20a2\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(\"nOHt\")\n\n\n/***/ }),\n\n/***/ \"GXZs\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return addUser; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"f\", function() { return updateUserInfo; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return getUser; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return addListener; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return startDrawing; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return resetDrawing; });\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"o0o1\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"HaE+\");\n/* harmony import */ var _firebase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"AkIE\");\n\n\n\nfunction addUser(id, info) {\n  return _firebase__WEBPACK_IMPORTED_MODULE_2__[/* db */ \"b\"].collection(\"users\").doc(id).set(info);\n}\nfunction updateUserInfo(id, info) {\n  return _firebase__WEBPACK_IMPORTED_MODULE_2__[/* db */ \"b\"].collection(\"users\").doc(id).update(info);\n}\nfunction getUser(id) {\n  return _firebase__WEBPACK_IMPORTED_MODULE_2__[/* db */ \"b\"].collection(\"users\").doc(id).get();\n}\nfunction addListener(path, onSnapshot) {\n  return _firebase__WEBPACK_IMPORTED_MODULE_2__[/* db */ \"b\"].doc(path).onSnapshot(onSnapshot);\n}\nfunction startDrawing() {\n  return _firebase__WEBPACK_IMPORTED_MODULE_2__[/* db */ \"b\"].collection(\"commands\").doc(\"commandCenter\").update({\n    state: \"started\"\n  });\n}\nfunction resetDrawing() {\n  return _resetDrawing.apply(this, arguments);\n}\n\nfunction _resetDrawing() {\n  _resetDrawing = Object(_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {\n    var users, promises;\n    return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _firebase__WEBPACK_IMPORTED_MODULE_2__[/* db */ \"b\"].collection(\"history\").doc(new Date().getFullYear().toString())[\"delete\"]();\n\n          case 2:\n            _context.next = 4;\n            return _firebase__WEBPACK_IMPORTED_MODULE_2__[/* db */ \"b\"].collection(\"commands\").doc(\"commandCenter\").update({\n              state: \"not started\"\n            });\n\n          case 4:\n            _context.next = 6;\n            return _firebase__WEBPACK_IMPORTED_MODULE_2__[/* db */ \"b\"].collection(\"users\").get();\n\n          case 6:\n            users = _context.sent;\n            promises = [];\n            users.docs.forEach(function (doc) {\n              promises.push(doc.ref.update({\n                person: \"\",\n                personDesire: \"\",\n                personDislike: \"\"\n              }));\n            });\n            _context.next = 11;\n            return Promise.all(promises);\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _resetDrawing.apply(this, arguments);\n}\n\n/***/ }),\n\n/***/ \"Nwme\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/signup\",\n      function () {\n        return __webpack_require__(\"smJ5\");\n      }\n    ]);\n  \n\n/***/ }),\n\n/***/ \"smJ5\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Signup; });\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"o0o1\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"HaE+\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"nKUr\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"6xyR\");\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"TUci\");\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"QojX\");\n/* harmony import */ var react_bootstrap__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"cWnB\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"YFqc\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var _scripts_auth__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"gXZv\");\n/* harmony import */ var _scripts_db__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"GXZs\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"20a2\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_11__);\n\n\n\n\n\n\n\n\n\n\n\nfunction Signup() {\n  var nameRef = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useRef\"])(null);\n  var emailRef = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useRef\"])(null);\n  var passwordRef = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useRef\"])(null);\n  var passwordConfirmRef = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useRef\"])(null);\n  var desireRef = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useRef\"])(null);\n  var dislikeRef = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useRef\"])(null);\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(\"\"),\n      error = _useState[0],\n      setError = _useState[1];\n\n  var _useState2 = Object(react__WEBPACK_IMPORTED_MODULE_3__[\"useState\"])(false),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var router = Object(next_router__WEBPACK_IMPORTED_MODULE_11__[\"useRouter\"])();\n\n  function handleSubmit(_x) {\n    return _handleSubmit.apply(this, arguments);\n  }\n\n  function _handleSubmit() {\n    _handleSubmit = Object(_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])( /*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(e) {\n      var _passwordRef$current, _passwordConfirmRef$c;\n\n      var _emailRef$current, _passwordRef$current2, _emailRef$current2, _nameRef$current, _desireRef$current, _dislikeRef$current, user, data;\n\n      return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n\n              if (!(((_passwordRef$current = passwordRef.current) === null || _passwordRef$current === void 0 ? void 0 : _passwordRef$current.value) !== ((_passwordConfirmRef$c = passwordConfirmRef.current) === null || _passwordConfirmRef$c === void 0 ? void 0 : _passwordConfirmRef$c.value))) {\n                _context.next = 3;\n                break;\n              }\n\n              return _context.abrupt(\"return\", setError(\"Passwords do not match\"));\n\n            case 3:\n              _context.prev = 3;\n              setError(\"\");\n              setLoading(true);\n              _context.next = 8;\n              return Object(_scripts_auth__WEBPACK_IMPORTED_MODULE_9__[/* signup */ \"e\"])((_emailRef$current = emailRef.current) === null || _emailRef$current === void 0 ? void 0 : _emailRef$current.value, (_passwordRef$current2 = passwordRef.current) === null || _passwordRef$current2 === void 0 ? void 0 : _passwordRef$current2.value);\n\n            case 8:\n              user = _context.sent;\n\n              if (user.user) {\n                _context.next = 12;\n                break;\n              }\n\n              setError(\"Failed to create an account\");\n              return _context.abrupt(\"return\");\n\n            case 12:\n              data = {\n                email: (_emailRef$current2 = emailRef.current) === null || _emailRef$current2 === void 0 ? void 0 : _emailRef$current2.value,\n                name: (_nameRef$current = nameRef.current) === null || _nameRef$current === void 0 ? void 0 : _nameRef$current.value,\n                desire: (_desireRef$current = desireRef.current) === null || _desireRef$current === void 0 ? void 0 : _desireRef$current.value,\n                dislike: (_dislikeRef$current = dislikeRef.current) === null || _dislikeRef$current === void 0 ? void 0 : _dislikeRef$current.value,\n                userType: \"user\",\n                personDesire: \"\",\n                personDislike: \"\",\n                person: \"\"\n              };\n              _context.next = 15;\n              return Object(_scripts_db__WEBPACK_IMPORTED_MODULE_10__[/* addUser */ \"b\"])(user.user.uid, data);\n\n            case 15:\n              router.push(\"/\");\n              _context.next = 21;\n              break;\n\n            case 18:\n              _context.prev = 18;\n              _context.t0 = _context[\"catch\"](3);\n\n              if (_context.t0.code === \"auth/email-already-in-use\") {\n                setError(\"A user with this email already exists\");\n              } else if (_context.t0.code === \"auth/invalid-email\") {\n                setError(\"Invalid email\");\n              } else if (_context.t0.code === \"auth/weak-password\") {\n                setError(\"Password must be at least 6 characters\");\n              } else if (_context.t0.code === \"auth/user-not-found\") {\n                setError(\"No user with this email\");\n              } else {\n                setError(\"Failed to create account\");\n              }\n\n            case 21:\n              setLoading(false);\n\n            case 22:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[3, 18]]);\n    }));\n    return _handleSubmit.apply(this, arguments);\n  }\n\n  return /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsxs\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"Fragment\"], {\n    children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(react_bootstrap__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"], {\n      children: /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsxs\"])(react_bootstrap__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"].Body, {\n        children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(\"h2\", {\n          className: \"text-center mb-4\",\n          children: \"Sign Up\"\n        }), error && /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(react_bootstrap__WEBPACK_IMPORTED_MODULE_5__[/* default */ \"a\"], {\n          variant: \"danger\",\n          children: error\n        }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsxs\"])(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"], {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsxs\"])(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"].Group, {\n            id: \"name\",\n            children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"].Label, {\n              children: \"Name\"\n            }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"].Control, {\n              type: \"text\",\n              ref: nameRef,\n              required: true\n            })]\n          }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsxs\"])(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"].Group, {\n            id: \"email\",\n            children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"].Label, {\n              children: \"Email\"\n            }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"].Control, {\n              type: \"email\",\n              ref: emailRef,\n              required: true\n            })]\n          }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsxs\"])(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"].Group, {\n            id: \"password\",\n            children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"].Label, {\n              children: \"Password\"\n            }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"].Control, {\n              type: \"password\",\n              ref: passwordRef,\n              required: true\n            })]\n          }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsxs\"])(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"].Group, {\n            id: \"password-confirm\",\n            children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"].Label, {\n              children: \"Password Confirmation\"\n            }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"].Control, {\n              type: \"password\",\n              ref: passwordConfirmRef,\n              required: true\n            })]\n          }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsxs\"])(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"].Group, {\n            id: \"want\",\n            children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"].Label, {\n              children: \"What you want\"\n            }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"].Control, {\n              type: \"text\",\n              ref: desireRef,\n              required: true\n            })]\n          }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsxs\"])(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"].Group, {\n            id: \"dontwant\",\n            children: [/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"].Label, {\n              children: \"What you don't Want\"\n            }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__[/* default */ \"a\"].Control, {\n              type: \"text\",\n              ref: dislikeRef,\n              required: true\n            })]\n          }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(react_bootstrap__WEBPACK_IMPORTED_MODULE_7__[/* default */ \"a\"], {\n            disabled: loading,\n            className: \"w-100\",\n            type: \"submit\",\n            children: \"Sign Up\"\n          })]\n        })]\n      })\n    }), /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsxs\"])(\"div\", {\n      className: \"w-100 text-center mt-2\",\n      children: [\"Already have an account? \", /*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__[\"jsx\"])(next_link__WEBPACK_IMPORTED_MODULE_8___default.a, {\n        href: \"/login\",\n        children: \"Log In\"\n      })]\n    })]\n  });\n}\n\n/***/ })\n\n},[[\"Nwme\",1,2,3,5,9,0,4,6,8,7]]]);"}